var _mall_ahas=_mall_ahas||[];_mall_ahas.push(["_trackPageInit"]),_mall_ahas.push(["_trackPageView"]),function(){function g(){return void 0==d?!1:!0}function h(a){d.indexOf("sendevent")>-1?AHJavascriptBridge.invoke("sendevent",{eventid:a.eventid,type:a.type},function(b){j(a,b)}):j(a,e)}function i(a){document.addEventListener&&f.push(a)}function j(a,b){0==b.returncode?a.success(b):a.fail(b)}if(!window.H5APPAS){var d,a=navigator.userAgent,e=(a.indexOf("_iphone")>-1||a.indexOf("iPhone")>-1||a.indexOf("iPad")>-1,a.indexOf("_android")>-1||a.indexOf("Android")>-1||a.indexOf("Adr")>-1||a.indexOf("Linux")>-1,'{returncode:1,message:"\u8be5\u65b9\u6cd5\u6682\u4e0d\u652f\u6301",result:{}}'),f=[];document.addEventListener&&document.addEventListener("ON_JS_BRIDGE_READY",function(){AHJavascriptBridge.getNativeBindMethodNames(function(a){if(d=JSON.stringify(a),f.length>0){var b;for(b in f)h(f[b]);f.length=0}})},!1),window.H5APPAS={isBridgeReady:g,callStats:h,cacheMess:i}}}(),function(){function invoke(a,b,c){var d=_createCommand(a,b,c,null,null);_sendCommand(d)}function bindMethod(a,b){mapMethod[a]=b}function unbindMethod(a){delete mapMethod[a]}function getJsBindMethodNames(){var a=[];for(var b in mapMethod)a.push(b);return a}function getNativeBindMethodNames(a){invoke(METHOD_GET_NATIVE_BIND_METHOD_NAMES,null,a)}function _checkNativeCommand(){var strCommands=AJI.getNativeCommands();if(strCommands)for(var commands=eval(strCommands),i=0;i<commands.length;i++)_handleCommand(commands[i])}function _init(){if(_initBindMethods(),"function"==typeof onBridgeReady&&onBridgeReady(),document.createEvent){var a=document.createEvent("HTMLEvents");a.initEvent(METHOD_ON_JS_BRIDGE_READY,!1,!0),document.dispatchEvent(a),invoke(METHOD_ON_JS_BRIDGE_READY,null,null)}}function _initBindMethods(){bindMethod(METHOD_GET_JS_BIND_METHOD_NAMES,function(a,b){b(getJsBindMethodNames())})}function _sendCommand(a){if(isIOS)iframeTrigger||(iframeTrigger=document.createElement("iframe"),iframeTrigger.style.display="none",document.documentElement.appendChild(iframeTrigger)),commandQueue.push(a),iframeTrigger.src=BRIDGE_PROTOCOL_URL;else if(isAndroid&&void 0!=AJI){commandQueue.push(a);var b=JSON.stringify(commandQueue);commandQueue=[],AJI.receiveCommands(b)}}function _getJsCommands(){var a=JSON.stringify(commandQueue);return commandQueue=[],a}function _receiveCommands(strCommands){for(var commands=eval(strCommands),i=0;i<commands.length;i++)_handleCommand(commands[i])}function _handleCommand(a){setTimeout(function(){if(a)if(a.methodName){var b=mapMethod[a.methodName];if(b){var c=b(a.methodArgs,function(b){if(a.callbackId){var c=_createCommand(null,null,null,a.callbackId,b);_sendCommand(c)}});if(c&&a.callbackId){var d=_createCommand(null,null,null,a.callbackId,c);_sendCommand(d)}}}else if(a.returnCallbackId){var e=mapCallback[a.returnCallbackId];e&&(e(a.returnCallbackData),delete mapCallback[a.returnCallbackId])}})}function _createCommand(a,b,c,d,e){var f={};if(a&&(f.methodName=a),b&&(f.methodArgs=b),c){callbackNum++;var g="js_callback_"+callbackNum;mapCallback[g]=c,f.callbackId=g}return d&&(f.returnCallbackId=d),e&&(f.returnCallbackData=e),f}if(!window.AHJavascriptBridge){var ua=navigator.userAgent,isIOS=ua.indexOf("_iphone")>-1||ua.indexOf("iPhone")>-1||ua.indexOf("iPad")>-1,isAndroid=ua.indexOf("_android")>-1||ua.indexOf("Android")>-1||ua.indexOf("Adr")>-1||ua.indexOf("Linux")>-1,METHOD_ON_JS_BRIDGE_READY="ON_JS_BRIDGE_READY",METHOD_GET_JS_BIND_METHOD_NAMES="GET_JS_BIND_METHOD_NAMES",METHOD_GET_NATIVE_BIND_METHOD_NAMES="GET_NATIVE_BIND_METHOD_NAMES",BRIDGE_PROTOCOL_URL="ahjb://_AUTOHOME_JAVASCRIPT_BRIDGE_",iframeTrigger,AJI=window._AUTOHOME_JAVASCRIPT_INTERFACE_,commandQueue=[],mapMethod={},mapCallback={},callbackNum=0;window.AHJavascriptBridge={invoke:invoke,bindMethod:bindMethod,unbindMethod:unbindMethod,getJsBindMethodNames:getJsBindMethodNames,getNativeBindMethodNames:getNativeBindMethodNames,_checkNativeCommand:_checkNativeCommand,_getJsCommands:_getJsCommands,_receiveCommands:_receiveCommands},_init()}}(),function(){var a="20160803",b=function(a){return function(b,c){return a[b]=function(){return c.apply(a,arguments)},c}},c=function(a){return"[object Array]"==Object.prototype.toString.call(Object(a))},d=function(a){return void 0==a||"-"==a||""==a},e=function(a,b){var c=encodeURIComponent;return c instanceof Function?b?encodeURI(a):encodeURIComponent(a):escape(a)},f=function(c){var f=this,l=b(f),m=new k;f.name=c,f.client=new j,f.ahAjax=new g,f.ahCookie=new h(m),f.ahUtil=new i,f.getSign=function(){return d(window.pageLoadId)?"noloadid":[window.pageLoadId.substring(2,10)>>3,Math.random().toString().substring(2,5)].join("")},f.getNessInfo=function(){return"ahpvers="+a+"&ahpplid="+window.pageLoadId+"&ahpprlid="+window.rPageLoadId+"&ahpsign="+f.getSign()},f.getPageInfo=function(){var a=f.ahUtil.parseUri(window.location).queryKey.sence||"0",b=f.ahUtil.parseUri(window.location).queryKey.showid||"0";return"&ref="+e(document.referrer)+"&cur="+e(document.URL)+"&scene_type="+a+"&show_id="+b},f.getRefAndCur=function(){return"&ref="+e(document.referrer)+"&cur="+e(document.URL)},f.getPVTrackerInfo=function(){if(!d(window.pvTrack)){var a=window.pvTrack,b={};null!=a.type&&(b.type=a.type),null!=a.typeid&&(b.typeid=a.typeid),null!=a.abtest&&(b.abtest=a.abtest),null!=a.bcTypeId&&(b.bcTypeId=a.bcTypeId),null!=a.site_ref&&(b.site_ref=a.site_ref);var c=a.pageVars;if(null!=c)for(var f in c)b[f]=c[f];return(null!=a.site?"&site="+a.site:"")+(null!=a.category?"&category="+a.category:"")+(null!=a.subcategory?"&subcategory="+a.subcategory:"")+(null!=a.object?"&object="+a.object:null!=a.objectid?"&object="+a.objectid:"")+(null!=a.series?"&series="+a.series:null!=a.seriesid?"&series="+a.seriesid:"")+(null!=a.spec?"&spec="+a.spec:null!=a.specid?"&spec="+a.specid:"")+(null!=a.level?"&level="+a.level:"")+(null!=a.dealer?"&dealer="+a.dealer:"")+"&pgvar="+e(JSON.stringify(b))}return""},f.getSiteInfo=function(){if(!d(window.pvTrack)){var a=window.pvTrack;return(null!=a.site?"&site="+a.site:"")+(null!=a.category?"&category="+a.category:"")+(null!=a.subcategory?"&subcategory="+a.subcategory:"")+(null!=a.object?"&object="+a.object:null!=a.objectid?"&object="+a.objectid:"")}return""},f.trackerPageView=l("_trackPageView",function(){var a=function(){var a=f.ahCookie.readCookie("fvlid"),b=f.ahCookie.readCookie("sfvi"),c=f.ahCookie.readCookie("slvi"),d=m.pvDelayPath+f.getNessInfo()+f.getPageInfo()+f.getPVTrackerInfo()+f.client.getClientInfo()+"&fvlid="+e(a)+"&sfvi="+e(b)+"&slvi="+e(c);f.ahAjax.sendByImage(m.alPath+d)};setTimeout(a,3e3)}),f.trackerPageInit=l("_trackPageInit",function(){var a=f.ahCookie.readCookie("fvlid");d(a)&&(a=window.pageLoadId,f.ahCookie.setCookie("fvlid",a,31536e4));var b=window.location.hostname,c=f.ahUtil.parseUri(document.referrer).host,g="0",h=f.ahCookie.readCookie("sfvi"),i=f.ahCookie.readCookie("slvi");if(-1!=b.indexOf(m.subHost)){var j=f.ahUtil.getPVAreaId(window.location);if(g=document.referrer.substring(0,100),d(h)){var k=window.pageLoadId;h=e(k+"|"+g),f.ahCookie.setSubCookie("sfvi",h,31536e4)}-1!=c.indexOf(m.subHost)?(j=0,d(i)&&(i=e(j+"|"+g),f.ahCookie.setSubCookie("slvi",i,86400))):j>0?(i=e(j+"|"+g),f.ahCookie.setSubCookie("slvi",i,86400)):d(i)&&(i=e(j+"|"+g),f.ahCookie.setSubCookie("slvi",i,86400))}var l=m.pvInitPath+f.getNessInfo()+f.getPageInfo()+f.getPVTrackerInfo()+f.client.getClientInfo()+"&fvlid="+e(a)+"&sfvi="+e(h)+"&slvi="+e(i);f.ahAjax.sendByImage(m.alPath+l);var n={eventid:l+"&altype=pv",type:"1",success:function(a){console.log("success"+JSON.stringify(a))},fail:function(a){console.log("fail"+JSON.stringify(a))}};H5APPAS.isBridgeReady()?H5APPAS.callStats(n):H5APPAS.cacheMess(n)}),f.trackerEvent=l("_trackEvent",function(){var b=(arguments,arguments[0]),c=arguments[1],g=b+"?"+f.getNessInfo()+f.getSiteInfo();if(!d(c))for(var h in c)g+="&"+h+"="+c[h];var i=f.ahCookie.readCookie("fvlid"),j=f.ahCookie.readCookie("sfvi"),k=f.ahCookie.readCookie("slvi");if(g+="&fvlid="+e(i)+"&sfvi="+e(j)+"&slvi="+e(k)+f.getRefAndCur(),f.ahAjax.sendByImage(m.alPath+g),H5APPAS.isBridgeReady()){var l={eventid:g+"&altype=click",type:"1",success:function(a){console.log("success"+JSON.stringify(a))},fail:function(a){console.log("fail"+JSON.stringify(a))}};H5APPAS.callStats(l)}})},g=function(){var a=this;a.sendByImage=function(a){var b=new Image(1,1);b.onload=b.onerror=function(){b.onload=b.onerror=null,b=null},b.src=a}},h=function(a){var b=this,d=".autohome.com.cn",e="/",f=".mall.autohome.com.cn",g="/";b.readCookie=function(a){var b=new RegExp("(^| )"+a+"=([^;]*)(;|$)"),c=document.cookie.match(b);return null!=c?decodeURIComponent(c[2]):""},b.setCookie=function(a,c,f){var g=f>0?b.getCookieExpires(f):"";a=a+"="+c,a.length>256&&(a=a.substring(0,256)),g=a+"; path="+e+"; "+g+"domain="+d+";",document.cookie=g},b.setSubCookie=function(a,c,d){var e=d>0?b.getCookieExpires(d):"";a=a+"="+c,a.length>256&&(a=a.substring(0,256)),e=a+"; path="+g+"; "+e+"domain="+f+";",document.cookie=e},b.getCookieExpires=function(a){var b=new Date;return a=new Date(b.getTime()+1e3*a),"expires="+a.toGMTString()+"; "}},i=function(){var a=this;a.getPVAreaId=function(a){var b=0,c=new RegExp("(^|&|#)pvareaid=([0-9]*)","i"),d=a.search.substr(1).match(c);return null!=d&&(b=unescape(d[2])),d=a.hash.substr(1).match(c),null!=d&&(b=unescape(d[2])),b},a.parseUri=function(b){for(var c=a.parseUri.options,d=c.parser[c.strictMode?"strict":"loose"].exec(b),e={},f=14;f--;)e[c.key[f]]=d[f]||"";return e[c.q.name]={},e[c.key[12]].replace(c.q.parser,function(a,b,d){b&&(e[c.q.name][b]=d)}),e},a.parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}}},j=function(){var a=this,b="-",c=window.screen,d=window.navigator;a.screen=c?c.width+"x"+c.height:b,a.colorDepth=c?c.colorDepth+"-bit":b,a.charset=e(document.characterSet?document.characterSet:document.charset?document.charset:b),a.language=(d&&d.language?d.language:d&&d.browserLanguage?d.browserLanguage:b).toLowerCase(),a.cookieEnabled=d&&d.cookieEnabled?1:0,a.docTitle=document.title?document.title.substring(0,126):"",a.getClientInfo=function(){return"&ahp"+["cs="+e(a.charset),"sr="+a.screen,"sc="+a.colorDepth,"ul="+a.language,"ce="+a.cookieEnabled,"dtl="+e(a.docTitle)].join("&ahp")}},k=function(){var a=this;a.subHost="mall.autohome.com.cn",a.alPath="http://al.autohome.com.cn/",a.pvInitPath="web_mall_pv_init?",a.pvDelayPath="web_mall_pv_log?"},l=function(){var a=this;b(a);a.defaultTracker=new f("default"),a.push=function(b){for(var c=arguments,d=0,e=0;e<c.length;e++)try{if("function"==typeof c[e])c[e]();else{var f=c[e][0],g=f,h=a.defaultTracker;h[g].apply(h,c[e].slice(1))}}catch(i){console.log(i),d++}return d}};if(d(window.pageLoadId))console.log("pageLoadId is undefined");else{var m=new l,n=window._mall_ahas,o=!1;(!n||"function"!=typeof n.push||(o=c(n)))&&(window._mall_ahas=m,o&&m.push.apply(m,n))}}();